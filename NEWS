NEWSYSLOG NEWS -- history of user-visible changes.

This file:  Copyright (C) Planix, Inc.
	    - see COPYING for details

Please send bug reports to bugs@robohack.planix.com


* User-visible changes new in newsyslog-1.0.103.

- a new debugging (-d) option allows various levels of verbose internals
  debugging without performing any actions and is now separate from
  normal verbose operation (-v) and separate from script generation (-n)

- verbose explanitory and debug messages are prefixed with "[-=]*> " to
  make them clearly visible and separate from script commands.

- new log files are created with unique temporary names and then renamed
  to their proper names only if their permissions and ownership are
  successfully initialised.


* User-visible changes new in newsyslog-1.0.102.

- run intervals can be one minute (but not less) again.

- minor portability fixes for Solaris and linux.


* User-visible changes new in newsyslog-1.0.101.

- a bug in parsing timespecs with "interval-trimtime" that caused
  strange errors on some machines has been fixed.

- signals are displayed symbolically in error messages.

- run intervals (-i) of one minute (or less) are no longer allowed.

- verbose output shows the trim time in local time (in ISO-8601 format)
  now instead of as a Unix epoch time.

- the rest of the changes are just portability fixes (more Solaris and
  Linux portability) (though esp. including use of str2sig() for
  portable signal name translation on SunOS-5).


* User-visible changes new in newsyslog-1.0.100.

- just portability fixes (tested on Solaris-2.6 now)


* User-visible changes new in newsyslog-1.0.99.

- fixed logic bug in comparison of PID filename with /dev/null.

- fixed logic bug in setting of internal flag for trim-time specs.

- a new test parameter, '-T timenow' has been added to make testing of
  trim-time specifications easier to do in a timely fashion.


* User-visible changes new in newsyslog-1.0.98.

- the log roll-over interval may now be specified as a "trim time",
  either as an hour of the day, day of the week, or day of the month,
  and the latter two may also specify the hour of the day, but default
  to midnight.

- new command-line option '-i' to specify the interval at which
  newsyslog is called by cron so that it can figure out whether or not a
  "trim time" specification matches the current time closley enough.

- processing can be restricted to specific log files by specifying their
  names on the command line -- the control information is still taken
  from the default or specified configuration file.

- signalling for "binary" log files now works.

- new flag 'D' will prevent log file from being created.

- we don't look for a timestamp in the first record if there's no
  interval specified, which will prevent complaints about unparsable
  timestamps in files that will never have parsable timestamps.

- the configuration file is locked (with open(O_EXLOCK), aka flock(2))
  to prevent simultaneous executions from fouling each other up.


* User-visible changes new in newsyslog-1.0.97.

- improved error messages by including line numbers.

- new optional "sigtype" field (ala NetBSD).

- POSIX demands that user and group values for chmod be separated by
  colons (since `.' *could* be legal in a user-name), so now the
  optional second field must similarly be separated into user and group
  sub-fields with a colon (`:').

- various bug fixes.


* User-visible changes new in newsyslog-1.0.96.

- just bug fixes.


* User-visible changes new in newsyslog-1.0.95.

- just bug fixes.


* User-visible changes new in newsyslog-1.0.94.

- improved usefulness of '-n'.  It now output strictly a shell script
  that would mimic actions without '-n'.  All extra information is only
  output with '-v' now.

- bug fixes.


* User-visible changes new in newsyslog-1.0.93.

- added '-p syslogd_pidfile' option (as in FreeBSD)

- lots of internal cleanups, logic fixes, portability fixes, etc.


* User-visible changes new in newsyslog-1.0.92.

- added '-F' (force) flag as in FreeBSD's latest version (rev.1.16)

- native BSD builds are supported without requiring ./configure.

- PID file can be /dev/null to avoid notifying any daemon.

- the '0' flag actually works (instead of just showing that it would
  work in verbose mode).

- a better attempt is made to determine the age of the log file when no
  log.0* file exists (by attempting to parse the timestamp from the
  first record of the current log file).  (WARNING:  Some (all?)
  versions of NetBSD have a buggy strptime(3) library routine that will
  make this less accurate.  PR# lib/5161 contains a patch.)


* User-visible changes new in newsyslog-1.0.91.

- none


* User-visible changes new in newsyslog-1.0.90.

- added '0' flag to leave logfile.0 uncompressed.


* User-visible changes new in newsyslog-0.1.91.

- don't add status message to new log file in order to ensure that
stagnant log files stay unchanged (i.e. the "empty" check prevents them
from being rolled over unnecessarily).


* User-visible changes new in newsyslog-0.1.80.

- added -M|-m option
- separated out newsyslog.conf.5 manual page
- improved documentation


#ident	"@(#)newsyslog:$Name:  $:$Id: NEWS,v 1.19 2002/05/10 17:46:04 woods Exp $"
