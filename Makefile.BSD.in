#
#	Makefile.BSD - input for pmake
#
# Copyright (C) 1997 Planix, Inc. - All rights reserved.
#
#ident	"@(#)newsyslog:$Name:  $:$Id: Makefile.BSD.in,v 1.3 1999/01/17 06:49:02 woods Exp $"

# adjust these as desired:
CPPFLAGS+= -DPATH_CONFIG=\"/etc/newsyslog.conf\"
CPPFLAGS+= -DPATH_SYSLOGD_PIDFILE=\"/var/run/syslog.pid\"
CPPFLAGS+= -DPATH_COMPRESS=\"/usr/bin/gzip\"
CPPFLAGS+= -DCOMPRESS_POSTFIX=\".gz\"

BINDIR?= /usr/bin
BINOWN= root

# You shouldn't have to change anything below here.

CPPFLAGS+= -DRETSIGTYPE=void
CPPFLAGS+= -DSTDC_HEADERS
CPPFLAGS+= -DTIME_WITH_SYS_TIME
CPPFLAGS+= -DHAVE_ERRNO_H
CPPFLAGS+= -DHAVE_STRCHR
CPPFLAGS+= -DHAVE_STRDUP
CPPFLAGS+= -DHAVE_STRERROR
CPPFLAGS+= -DHAVE_STRTOK
CPPFLAGS+= -DHAVE_STRING_H
CPPFLAGS+= -DHAVE_SYS_TYPES_H
CPPFLAGS+= -DHAVE_SYS_WAIT_H
CPPFLAGS+= -DHAVE_UNISTD_H

CPPFLAGS+= -DPACKAGE=\"@PACKAGE@\"
CPPFLAGS+= -DVERSION=\"@VERSION@\"

PROG= newsyslog
MAN= newsyslog.conf.5 newsyslog.8

CLEANFILES+= newsyslog.conf.5

WARNS?= 1

SOELIM = soelim

.SUFFIXES: .5so .5

.5so.5:
	@rm -f $@
	$(SOELIM) $< > $@ || (rm -f $@; exit 1)

.include <bsd.prog.mk>
