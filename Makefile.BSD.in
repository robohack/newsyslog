#
#	Makefile.BSD - input for pmake
#
# This file Copyright (C) 1998,1999 Planix, Inc. -- see COPYING for details.
#
#ident	"@(#)newsyslog:$Name:  $:$Id: Makefile.BSD.in,v 1.6 2000/12/01 19:46:52 woods Exp $"
#
# NOTE:  It is expected that this file will be processed to create the
# final version with:
#
#	./configure --prefix=/usr --bindir=/usr/bin --sysconfdir=/etc --localstatedir=/var --with-newsyslog-conf=/etc/newsyslog.conf --with-syslogd_pid=/var/run/syslogd.pid --with-gzip
#

CPPFLAGS+= -DPATH_COMPRESS=\"@PATH_COMPRESS@\"
CPPFLAGS+= -DCOMPRESS_SUFFIX=\"@COMPRESS_SUFFIX@\"
CPPFLAGS+= -DPATH_CONFIG=\"@path_config@\"
CPPFLAGS+= -DPATH_SYSLOGD_PIDFILE=\"@syslogd_pidfile@\"

CPPFLAGS+= -DRETSIGTYPE=void
CPPFLAGS+= -DSTDC_HEADERS
CPPFLAGS+= -DTIME_WITH_SYS_TIME
CPPFLAGS+= -DHAVE_ERRNO_H
CPPFLAGS+= -DHAVE_STRCHR
CPPFLAGS+= -DHAVE_STRDUP
CPPFLAGS+= -DHAVE_STRERROR
CPPFLAGS+= -DHAVE_STRTOK
CPPFLAGS+= -DHAVE_STRING_H
CPPFLAGS+= -DHAVE_SYS_TYPES_H
CPPFLAGS+= -DHAVE_SYS_WAIT_H
CPPFLAGS+= -DHAVE_UNISTD_H

CPPFLAGS+= -DPACKAGE=\"@PACKAGE@\"
CPPFLAGS+= -DVERSION=\"@VERSION@\"

BINDIR?= @bindir@
BINOWN= root

PROG= newsyslog
MAN= newsyslog.conf.5 newsyslog.8

CLEANFILES+= newsyslog.conf.5

WARNS?= 1

SOELIM = soelim

.SUFFIXES: .5so .5

.5so.5:
	@rm -f ${.TARGET}
	${SOELIM} -I ${.CURDIR} ${.IMPSRC} > ${.TARGET} || (rm -f ${.TARGET}; exit 1)

.include <bsd.prog.mk>
